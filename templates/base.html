<!DOCTYPE html>
<html lang="{{ DEFAULT_LANG }}">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>{% block title %}{{ SITENAME }}{% endblock title %}</title>
    
    <meta name="description" content="{% block description %}{{ SITEDESCRIPTION|default(SITENAME) }}{% endblock description %}">
    <meta name="author" content="{% block author %}{{ AUTHOR }}{% endblock author %}">
    
    {% if FEED_ALL_ATOM %}
    <link href="{{ FEED_DOMAIN }}/{{ FEED_ALL_ATOM }}" type="application/atom+xml" rel="alternate" title="{{ SITENAME }} Atom Feed" />
    {% endif %}
    {% if FEED_ALL_RSS %}
    <link href="{{ FEED_DOMAIN }}/{{ FEED_ALL_RSS }}" type="application/rss+xml" rel="alternate" title="{{ SITENAME }} RSS Feed" />
    {% endif %}
    
    <link rel="stylesheet" href="{{ SITEURL }}/{{ THEME_STATIC_DIR }}/css/bulma.min.css">
    <link rel="stylesheet" href="{{ SITEURL }}/{{ THEME_STATIC_DIR }}/css/style.css">
    
    {% if article and article.tags %}
    <meta name="keywords" content="{% for tag in article.tags %}{{ tag }}{% if not loop.last %}, {% endif %}{% endfor %}">
    {% elif page and page.tags %}
    <meta name="keywords" content="{% for tag in page.tags %}{{ tag }}{% if not loop.last %}, {% endif %}{% endfor %}">
    {% endif %}
    
    {% if article %}
    <meta property="og:title" content="{{ article.title|striptags }}">
    <meta property="og:description" content="{{ article.summary|striptags|truncate(160) }}">
    <meta property="og:type" content="article">
    <meta property="og:url" content="{{ SITEURL }}/{{ article.url }}">
    <meta property="article:published_time" content="{{ article.date.isoformat() }}">
    {% if article.modified %}
    <meta property="article:modified_time" content="{{ article.modified.isoformat() }}">
    {% endif %}
    {% elif page %}
    <meta property="og:title" content="{{ page.title|striptags }}">
    <meta property="og:description" content="{{ page.summary|striptags|truncate(160) }}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ SITEURL }}/{{ page.url }}">
    {% else %}
    <meta property="og:title" content="{{ SITENAME }}">
    <meta property="og:description" content="{{ SITEDESCRIPTION|default(SITENAME) }}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ SITEURL }}">
    {% endif %}
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="{% block twitter_title %}{% if article %}{{ article.title|striptags }}{% elif page %}{{ page.title|striptags }}{% else %}{{ SITENAME }}{% endif %}{% endblock twitter_title %}">
    <meta name="twitter:description" content="{% block twitter_description %}{% if article %}{{ article.summary|striptags|truncate(160) }}{% elif page %}{{ page.summary|striptags|truncate(160) }}{% else %}{{ SITEDESCRIPTION|default(SITENAME) }}{% endif %}{% endblock twitter_description %}">
    
    <link rel="canonical" href="{% block canonical %}{{ SITEURL }}/{% if article %}{{ article.url }}{% elif page %}{{ page.url }}{% endif %}{% endblock canonical %}">
    
    {% block extra_head %}{% endblock extra_head %}
</head>

<body>
    <nav class="navbar is-light" role="navigation" aria-label="main navigation">
        <div class="container">
            <div class="navbar-brand">
                <a class="navbar-item" href="{{ SITEURL }}/">
                    <strong>{{ SITENAME }}</strong>
                </a>
                
                <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarMenu">
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                </a>
            </div>
            
            <div id="navbarMenu" class="navbar-menu">
                <div class="navbar-end">
                    {% if DISPLAY_PAGES_ON_MENU %}
                    {% for p in pages %}
                    <a class="navbar-item" href="{{ SITEURL }}/{{ p.url }}">{{ p.title }}</a>
                    {% endfor %}
                    {% endif %}
                    
                    {% if MENUITEMS %}
                    {% for title, link in MENUITEMS %}
                    <a class="navbar-item" href="{{ link }}">{{ title }}</a>
                    {% endfor %}
                    {% endif %}
                </div>
            </div>
        </div>
    </nav>

    <main>
        {% block content %}{% endblock content %}
    </main>

    <footer class="footer">
        <div class="container">
            <div class="content has-text-centered">
                <p>
                    <strong>{{ SITENAME }}</strong>
                    {% if AUTHOR %}
                    by <a href="{% if AUTHOR_EMAIL %}mailto:{{ AUTHOR_EMAIL }}{% else %}#{% endif %}">{{ AUTHOR }}</a>
                    {% endif %}
                </p>
                
                {% if SOCIAL %}
                <div class="buttons is-centered">
                    {% for name, link in SOCIAL %}
                    <a class="button is-small" href="{{ link }}" rel="noopener noreferrer" target="_blank">
                        {{ name }}
                    </a>
                    {% endfor %}
                </div>
                {% endif %}
                
                <p class="is-size-7">
                    Powered by <a href="https://getpelican.com/" rel="noopener noreferrer" target="_blank">Pelican</a>
                    and <a href="https://bulma.io/" rel="noopener noreferrer" target="_blank">Bulma</a>
                </p>
            </div>
        </div>
    </footer>

    <script src="{{ SITEURL }}/{{ THEME_STATIC_DIR }}/js/main.js"></script>
    {% block extra_js %}{% endblock extra_js %}
</body>
</html>